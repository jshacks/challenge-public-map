/**
 * Created by wictort on 10/22/16.
 */

var sectors =
[
    {
        "name": 'riscani',
        "color": '#ff3300',
        "coordinates": [
            {lat: 47.021293, lng: 28.856104 },
            {lat: 47.021926, lng:  28.856097},
            {lat: 47.023837, lng:  28.854235},
            {lat: 47.025082, lng:  28.853011},
            {lat: 47.029173, lng:  28.851833},
            {lat: 47.031985, lng:  28.849926},
            {lat: 47.033865, lng:  28.846316},
            {lat: 47.033651, lng:  28.846031},
            {lat: 47.039841, lng:  28.837035},
            {lat: 47.041337, lng:  28.83041},
            {lat: 47.049131, lng:  28.810873},
            {lat: 47.058721, lng:  28.788385},
            {lat: 47.086722, lng:  28.835678},
            {lat: 47.068017, lng:  28.87413}]
    },
    {
        "name": 'ciocana',
        "color": '#00ff00',
        "coordinates" : [
            {lat: 46.980369, lng: 28.901768 },
            {lat: 46.988099, lng: 28.908806 },
            {lat: 46.999456, lng: 28.906574 },
            {lat: 47.010226, lng: 28.897305 },
            {lat: 47.070122, lng: 28.897476 },
            {lat: 47.067959, lng: 28.873959 },
            {lat: 47.045168, lng: 28.86544 },
            {lat: 47.021213, lng: 28.856074 },
            {lat: 47.017716, lng: 28.856041 },
            {lat: 47.01479, lng: 28.856943 },
            {lat: 47.013796, lng: 28.854893 },
            {lat: 47.010109, lng: 28.859732 },
            {lat: 47.007124, lng: 28.865461 },
            {lat: 47.000158, lng: 28.871727 },
            {lat: 46.997114, lng: 28.87486 },
            {lat: 46.987513, lng: 28.888721}]
    },
    {
        "name": 'botanica',
        "color": '#00ff00',
        "coordinates" :  [
            {lat: 46.983883, lng: 28.834648 },
            {lat: 46.988099, lng: 28.838253 },
            {lat: 46.986108, lng: 28.844433 },
            {lat: 46.993719, lng: 28.846664 },
            {lat: 47.002617, lng: 28.84203 },
            {lat: 47.002383, lng: 28.845119 },
            {lat: 47.006012, lng: 28.847179 },
            {lat: 47.007768, lng: 28.853531 },
            {lat: 47.010226, lng: 28.859539 },
            {lat: 47.007065, lng: 28.865891 },
            {lat: 46.997114, lng: 28.874989 },
            {lat: 46.987279, lng: 28.889923 },
            {lat: 46.972522, lng: 28.914986 },
            {lat: 46.95823, lng: 28.923912 },
            {lat: 46.946542, lng: 28.934298 },
            {lat: 46.935788, lng: 28.952923 },
            {lat: 46.9294, lng: 28.963051 },
            {lat: 46.927172, lng: 28.907948 },
            {lat: 46.935378, lng: 28.917389 },
            {lat: 46.936433, lng: 28.904343 },
            {lat: 46.946278, lng: 28.904343 },
            {lat: 46.950379, lng: 28.913612 },
            {lat: 46.975099, lng: 28.8731 },
            {lat: 46.97463, lng: 28.865891 },
            {lat: 46.971117, lng: 28.851471 },
            {lat: 46.980252, lng: 28.843231}]
    },
    {
        "name": 'centru',
        "color": '#99ff66',
        "coordinates" : [
            {lat: 46.989387, lng: 28.826923 },
            {lat: 46.983883, lng: 28.834777 },
            {lat: 46.988099, lng: 28.83821 },
            {lat: 46.986108, lng: 28.84439 },
            {lat: 46.993748, lng: 28.846664 },
            {lat: 47.002588, lng: 28.842115 },
            {lat: 47.002353, lng: 28.845119 },
            {lat: 47.00607, lng: 28.847265 },
            {lat: 47.007709, lng: 28.853703 },
            {lat: 47.010109, lng: 28.859797 },
            {lat: 47.013796, lng: 28.854904 },
            {lat: 47.01479, lng: 28.856964 },
            {lat: 47.017599, lng: 28.856106 },
            {lat: 47.021929, lng: 28.856106 },
            {lat: 47.025089, lng: 28.853016 },
            {lat: 47.029184, lng: 28.851814 },
            {lat: 47.031993, lng: 28.849926 },
            {lat: 47.033865, lng: 28.846321 },
            {lat: 47.028599, lng: 28.838081 },
            {lat: 47.028131, lng: 28.837588 },
            {lat: 47.024124, lng: 28.831387 },
            {lat: 47.013474, lng: 28.814907 },
            {lat: 47.011528, lng: 28.812075 },
            {lat: 47.010094, lng: 28.809779 },
            {lat: 47.002997, lng: 28.770297 },
            {lat: 46.999046, lng: 28.782034 },
            {lat: 46.990909, lng: 28.788815 },
            {lat: 46.998285, lng: 28.808041 },
            {lat: 46.991494, lng: 28.820229}]
    },
    {
        "name": 'buiucani',
        "color": '#ffff66',
        "coordinates" :  [
            {lat: 47.033601, lng: 28.846107 },
            {lat: 47.03989, lng: 28.837051 },
            {lat: 47.041352, lng: 28.830442 },
            {lat: 47.05913, lng: 28.787956 },
            {lat: 47.052899, lng: 28.774336 },
            {lat: 47.05462, lng: 28.765866 },
            {lat: 47.051982, lng: 28.763688 },
            {lat: 47.047873, lng: 28.765855 },
            {lat: 47.042931, lng: 28.76092 },
            {lat: 47.040767, lng: 28.751392 },
            {lat: 47.02702, lng: 28.772421 },
            {lat: 47.024153, lng: 28.785038 },
            {lat: 47.002968, lng: 28.770103 },
            {lat: 47.01005, lng: 28.809843}]
    }
];

var data = {
    '2005':{
        'botanica':{
            'total': 1804,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'ciocana': {
            'total': 3333,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'centru': {
            'total': 1234,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'buiucani': {
            'total': 2222,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'riscani': {
            'total': 2344,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        }
        },
    '2006':{
        'botanica': {
            'total': 9999,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'ciocana': {
            'total': 1867,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'centru': {
            'total': 1978,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'buiucani': {
            'total': 1869,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'riscani': {
            'total': 2134,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        }
    },
    '2007':{
        'botanica': {
            'total': 2353,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'ciocana': {
            'total': 2453,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'centru': {
            'total': 1655,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'buiucani': {
            'total': 1978,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        },
        'riscani': {
            'total': 3000,
            'jafuri': Math.round(Math.random() * 500) + 500,
            'furturi': Math.round(Math.random() * 400) + 400,
            'mita': Math.round(Math.random() * 250) + 250,
            'crime': Math.round(Math.random() * 50) + 50,
            'violuri': Math.round(Math.random() * 50) + 50
        }
    }
};

var years = Object.keys(data);

// var categories = data[years[0];

//Predict + N years

// var data = [];
// var i = 0;
// for (let year in crimes) {
//     data[i] = [];
//     for (let sector in crimes[year]) {
//     }
//     data[i][] = parseInt(year);
//     i++;
// }










var spectre = ['#1AE500', '#1CE100', '#1FDE00', '#21DA00', '#24D700', '#27D400', '#29D000', '#2CCD00', '#2EC900', '#31C600', '#34C300', '#36BF00', '#39BC00', '#3CB900', '#3EB500', '#41B200', '#43AE00', '#46AB00', '#49A800', '#4BA400', '#4EA100', '#519E00', '#539A00', '#569700', '#589300', '#5B9000', '#5E8D00', '#608900', '#638600', '#658200', '#687F00', '#6B7C00', '#6D7800', '#707500', '#737200', '#756E00', '#786B00', '#7A6700', '#7D6400', '#806100', '#825D00', '#855A00', '#885700', '#8A5300', '#8D5000', '#8F4C00', '#924900', '#954600', '#974200', '#9A3F00', '#9C3B00', '#9F3800', '#A23500', '#A43100', '#A72E00', '#AA2B00', '#AC2700', '#AF2400', '#B12000', '#B41D00', '#B71A00', '#B91600', '#BC1300', '#BF1000'] ;

var crimeRate = {};

var min = 30000;
var max = 0;

for (let year in data)
{
    var min = 30000;
    var max = 0;
    var diff;
    crimeRate[year] = {};

    for (let sector in data[year])
    {
        if (data[year][sector]['total'] > max)
            max = data[year][sector]['total']

        if (data[year][sector]['total'] < min)
            min = data[year][sector]['total']
    }

    diff = (max - min) / (spectre.length - 1);


        for (let sector in data[year])
        {
            crimeRate[year][sector] = {};
            crimeRate[year][sector]['total'] = spectre[ Math.trunc((data[year][sector]['total'] - min) /(diff * 1.1)) ]
        }
}
